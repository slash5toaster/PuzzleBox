Bootstrap: docker
From: debian:unstable-slim
Stage: spython-base

%files
. /tmp/PuzzleBox/

%labels
MAINTAINER="slash5toaster@gmail.com"
NAME=puzzlebox
PROJECT=revk
VERSION=1.0.0

%post
apt-get update \
&& apt-get install -y \
    build-essential \
    gcc \
    libpopt-dev \
&& apt-get clean \
&& rm -rf /var/lib/apt/lists/*

mkdir -p /tmp/
cd /tmp/

cd /tmp/PuzzleBox \
&& make puzzlebox \
&& mv -v puzzlebox entrypoint.sh /usr/local/bin/ \
&& /bin/rm -rv /tmp/PuzzleBox

mkdir -p /opt/
cd /opt/

%runscript
cd /opt/
exec /usr/local/bin/entrypoint.sh "$@"

%startscript
cd /opt/
exec /usr/local/bin/entrypoint.sh "$@"

#### End of File, if this is missing the file has been truncated